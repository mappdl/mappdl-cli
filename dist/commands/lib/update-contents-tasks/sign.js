const _0x99e661=_0x17e3;(function(_0x367610,_0x180305){const _0x45746d=_0x17e3,_0x5bcb93=_0x367610();while(!![]){try{const _0x2ececb=parseInt(_0x45746d(0x1c1))/0x1+-parseInt(_0x45746d(0x1c4))/0x2*(-parseInt(_0x45746d(0x1de))/0x3)+parseInt(_0x45746d(0x1d7))/0x4+parseInt(_0x45746d(0x1c2))/0x5*(-parseInt(_0x45746d(0x1b8))/0x6)+-parseInt(_0x45746d(0x1dd))/0x7*(parseInt(_0x45746d(0x1cc))/0x8)+-parseInt(_0x45746d(0x1d8))/0x9*(-parseInt(_0x45746d(0x1e1))/0xa)+parseInt(_0x45746d(0x1c6))/0xb*(-parseInt(_0x45746d(0x1ba))/0xc);if(_0x2ececb===_0x180305)break;else _0x5bcb93['push'](_0x5bcb93['shift']());}catch(_0x25b47a){_0x5bcb93['push'](_0x5bcb93['shift']());}}}(_0x5eb7,0xdc470));var __awaiter=this&&this[_0x99e661(0x1cb)]||function(_0x5157a1,_0x111d4d,_0x3e7842,_0x1a101f){return new(_0x3e7842=_0x3e7842||Promise)(function(_0x4bfaf5,_0x3655d9){const _0x56b45c=_0x17e3;function _0xa283e(_0x57d3b2){const _0x498e9c=_0x17e3;try{_0x56a419(_0x1a101f[_0x498e9c(0x1df)](_0x57d3b2));}catch(_0x5b71dc){_0x3655d9(_0x5b71dc);}}function _0xf5dbf6(_0x2c63e7){const _0x53f3f3=_0x17e3;try{_0x56a419(_0x1a101f[_0x53f3f3(0x1e0)](_0x2c63e7));}catch(_0x2bd05b){_0x3655d9(_0x2bd05b);}}function _0x56a419(_0x77af1a){const _0x1f8f14=_0x17e3;var _0x5857c8;_0x77af1a[_0x1f8f14(0x1d5)]?_0x4bfaf5(_0x77af1a['value']):((_0x5857c8=_0x77af1a[_0x1f8f14(0x1db)])instanceof _0x3e7842?_0x5857c8:new _0x3e7842(function(_0x3eba44){_0x3eba44(_0x5857c8);}))[_0x1f8f14(0x1d2)](_0xa283e,_0xf5dbf6);}_0x56a419((_0x1a101f=_0x1a101f[_0x56b45c(0x1bd)](_0x5157a1,_0x111d4d||[]))[_0x56b45c(0x1df)]());});};function _0x17e3(_0xa9b27e,_0x794680){const _0x5eb7c3=_0x5eb7();return _0x17e3=function(_0x17e3c7,_0xfb049b){_0x17e3c7=_0x17e3c7-0x1b8;let _0x57e775=_0x5eb7c3[_0x17e3c7];return _0x57e775;},_0x17e3(_0xa9b27e,_0x794680);}Object[_0x99e661(0x1ce)](exports,_0x99e661(0x1bf),{'value':!0x0});let fs=require('fs'),hashUtils=require('../hash-utils'),jwt=require(_0x99e661(0x1bb)),path=require('path'),pfs=require('../../../util/misc/promisfied-fs'),file_utils_1=require(_0x99e661(0x1e2)),CURRENT_CLAIM_VERSION='1.0.0',METADATA_FILE_NAME=_0x99e661(0x1c5);function _0x5eb7(){const _0x329f6a=['throw','235110ZTUSwv','../file-utils','2160BMtCgm','Could\x20not\x20delete\x20previous\x20release\x20signature\x20at\x20','3969876bzckWs','jsonwebtoken','constants','apply','Deleting\x20previous\x20release\x20signature\x20at\x20','__esModule','writeFileSync','1539325zjnIsE','290WDaRTk','default','1398ekUUWn','.codepushrelease','44kKRKmK','reject','\x22)\x20was\x20not\x20valid.','The\x20path\x20specified\x20for\x20the\x20signing\x20key\x20(\x22','copyFileToTmpDir','__awaiter','40CmjlbY','rmDir','defineProperty','isDirectory','ENOENT','log','then','RS256','access','done','code','588680BbwoXn','639nfWqVN','Generated\x20a\x20release\x20signature\x20and\x20wrote\x20it\x20to\x20','F_OK','value','resolve','2123611eyDkSp','1749rdepkE','next'];_0x5eb7=function(){return _0x329f6a;};return _0x5eb7();}function sign(_0x45c59f,_0x3ecb4a){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x53c984=_0x17e3;if(!_0x45c59f)return Promise[_0x53c984(0x1dc)](null);let _0xcfb802;try{_0xcfb802=yield pfs['readFile'](_0x45c59f);}catch(_0x26e758){return Promise[_0x53c984(0x1c7)](new Error(_0x53c984(0x1c9)+_0x45c59f+_0x53c984(0x1c8)));}try{file_utils_1[_0x53c984(0x1cf)](_0x3ecb4a)||(_0x3ecb4a=file_utils_1[_0x53c984(0x1ca)](_0x3ecb4a));}catch(_0x53e442){Promise[_0x53c984(0x1c7)](_0x53e442);}let _0x2042d3=path['join'](_0x3ecb4a,METADATA_FILE_NAME),_0x4508fc=!0x0;try{yield pfs[_0x53c984(0x1d4)](_0x2042d3,fs[_0x53c984(0x1bc)][_0x53c984(0x1da)]);}catch(_0x18ac8d){if(_0x53c984(0x1d0)!==_0x18ac8d[_0x53c984(0x1d6)])return Promise[_0x53c984(0x1c7)](new Error(_0x53c984(0x1b9)+_0x2042d3+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please,\x20check\x20your\x20access\x20rights.'));_0x4508fc=!0x1;}_0x4508fc&&(console[_0x53c984(0x1d1)](_0x53c984(0x1be)+_0x2042d3),yield pfs[_0x53c984(0x1cd)](_0x2042d3));var _0x154069=yield hashUtils['generatePackageHashFromDirectory'](_0x3ecb4a,path['join'](_0x3ecb4a,'..'));let _0x22c24e={'claimVersion':CURRENT_CLAIM_VERSION,'contentHash':_0x154069};return new Promise((_0x5772b0,_0x58e621)=>{const _0x3757e9=_0x53c984;jwt['sign'](_0x22c24e,_0xcfb802,{'algorithm':_0x3757e9(0x1d3)},(_0x5b85de,_0x291326)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x54005f=_0x3757e9;_0x5b85de&&_0x58e621(new Error('The\x20specified\x20signing\x20key\x20file\x20was\x20not\x20valid'));try{fs[_0x54005f(0x1c0)](_0x2042d3,_0x291326),console['log'](_0x54005f(0x1d9)+_0x2042d3),_0x5772b0(null);}catch(_0x3959e9){_0x58e621(_0x3959e9);}}));});});}exports[_0x99e661(0x1c3)]=sign;